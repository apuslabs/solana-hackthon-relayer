# Apus
Apus Network： Edge Computing For AI  
我们使矿工能够通过非侵入式挖掘和人工智能推理任务将闲置的GPU资源货币化。这也有助于人工智能项目获得更便宜、更快的计算能力。
我们的项目旨在利用Solana的高吞吐量和低交易成本的独特优势，为人工智能提供可扩展和高效的边缘计算解决方案。

### Relayer
Apus官方提供的算力节点中继模块
1. 用于解析用户AI任务请求，分配合适的计算节点
2. 计算任务元数据上链保存，客户端或者第三方Relayer不执行这个步骤怎么办？ 
   1. Relayer应该没有不执行的动机
   2. 客户端，产品使用方有使用动机，但是受益方(模型/Dapp/Node)提供者会规范这个市场。也可能有做免费使用Dapp的产品这都不一定
   3. 多方博弈结果，由参与方规范行为，市场行为做主导

### 流程梳理(Relayer视角)
为了做一个使用示范，使用方自己决定功能架构 各个AI-Relayer应用缓存适合自己的节点信息做快速相应，以及需要上传 metrics来做工作量证明以及避免让用户付这次gas？

### 功能接口
定时缓存GPU节点信息，做好索引映射(减少查询速度)
查询节点信息是否有参数？比如不同AI任务类型是预定义好的？不然每次都是拉取全量？然后从节点信息确认节点适合那种任务？
anget模型：id/hash。    hash=[node{feemap[],payload}]
##### 返回AI任务匹配的节点信息
1. 解析用户请求参数，识别AI任务
2. 检查用户余额是否足够(这里不应该考虑是否有token，还要考虑token是否满足计算消耗，这里又无法预测消耗)
   1. NODE - 指定模型的费用是固定的[a:1U , b:2U]
   2. 上链延时问题(异步扣费): 判断用户当前使用次数和余额 是否匹配，是否超支(避免超支)
   3. 余额、流水。--> 先监听余额，余额变了我就找要去掉流水 
3. 匹配对应的节点类型列表，查找最适合的三个节点(费用、延时、负载),选择合适的节点信息返回给前端
   1. 优先级：费用(ASC) > 负载(查node：useable true/false)(多端口)
   2. 返回一个可用节点
   3. 延时的问题(ignore)：客户端可能在各个地区，从Relayer处测延时应该不合理。寻找临近地区的节点给客户端？
4. 返回任务能否执行
```json
{
   "code":200,
   "msg":"",
   "data":[],
}
```
##### 计算日志上链
返回上链Hash
```json
{
   "code":200,
   "msg":"",
   "data":[],
}
```


### 第三方API
##### 合约Node节点信息
根据提交的AI-TASK，返回合适的Node列表信息

##### Node能否执行
根据Node信息，访问Node当前是否能够执行AI-模型任务



